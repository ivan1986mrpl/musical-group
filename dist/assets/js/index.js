var E=Object.defineProperty;var L=(i,e,t)=>e in i?E(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var m=(i,e,t)=>L(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function b({parent:i=document.body,offset:e=300,maxWidth:t=1600,scrollUpClass:n="scroll-up",scrollUpPathClass:r="scroll-up__path"}={}){if(!i||!(i instanceof Element))return;const o=document.createElement("button");o.classList.add(n),o.setAttribute("aria-label","scroll to top"),o.setAttribute("title","scroll to top"),o.innerHTML=`
    <svg class="${n}__svg" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 52 52">
      <path class="${r}" d="M 24,0 a24,24 0 0,1 0,48 a24,24 0 0,1 0,-48" />
    </svg>
  `,i.appendChild(o);const c=o.querySelector(`.${r}`),s=c.getTotalLength();c.style.strokeDasharray=`${s} ${s}`,c.style.transition="stroke-dashoffset 0.3s ease";const a=()=>window.scrollY||document.documentElement.scrollTop,l=()=>{const v=document.documentElement.scrollHeight-window.innerHeight,g=s-a()*s/v;c.style.strokeDashoffset=g},d=()=>{const v=a(),g=window.innerWidth;l(),v>e&&g<=t?o.classList.add(`${n}--active`):o.classList.remove(`${n}--active`)},u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",d),window.addEventListener("resize",d),o.addEventListener("click",u),d(),{destroy(){window.removeEventListener("scroll",d),window.removeEventListener("resize",d),o.removeEventListener("click",u),o.remove()}}}class w{constructor(){m(this,"selectors",{root:"[data-js-header]",menu:"[data-js-header-menu]",burgerButton:"[data-js-header-burger-button]",overlay:".header__overlay"});m(this,"stateClasses",{isActive:"is-active",isLock:"lock"});m(this,"toggleMenu",()=>{this.menuElement.classList.contains(this.stateClasses.isActive)?this.closeMenu():this.openMenu()});m(this,"onEscapePress",e=>{e.key==="Escape"&&this.closeMenu()});m(this,"onOverlayClick",e=>{e.target===this.overlayElement&&this.closeMenu()});m(this,"onMenuClick",e=>{const t=e.target;(t.closest("a.menu__link")||t.closest("button"))&&this.closeMenu()});this.rootElement=document.querySelector(this.selectors.root),this.rootElement&&(this.menuElement=this.rootElement.querySelector(this.selectors.menu),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.bindEvents())}openMenu(){this.burgerButtonElement.classList.add(this.stateClasses.isActive),this.menuElement.classList.add(this.stateClasses.isActive),document.body.classList.add(this.stateClasses.isLock)}closeMenu(){this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.menuElement.classList.remove(this.stateClasses.isActive),document.body.classList.remove(this.stateClasses.isLock)}bindEvents(){!this.burgerButtonElement||!this.menuElement||(this.burgerButtonElement.addEventListener("click",this.toggleMenu),this.menuElement.addEventListener("click",this.onMenuClick),this.overlayElement&&this.overlayElement.addEventListener("click",this.onOverlayClick),document.addEventListener("keydown",this.onEscapePress))}destroy(){!this.burgerButtonElement||!this.menuElement||(this.burgerButtonElement.removeEventListener("click",this.toggleMenu),this.menuElement.removeEventListener("click",this.onMenuClick),this.overlayElement&&this.overlayElement.removeEventListener("click",this.onOverlayClick),document.removeEventListener("keydown",this.onEscapePress))}}let p=!0;const h=document.querySelectorAll(".lock-padding"),f=document.querySelector("body");function k(i=500){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(h.length>0)for(let t=0;t<h.length;t++){const n=h[t];n.style.paddingRight=e}f.style.paddingRight=e,f.classList.add("lock"),p=!1,setTimeout(function(){p=!0},i)}function M(i=500){setTimeout(function(){if(h.length>0)for(let e=0;e<h.length;e++){const t=h[e];t.style.paddingRight="0px"}f.style.paddingRight="0px",f.classList.remove("lock")},i),p=!1,setTimeout(function(){p=!0},p)}function A(){document.body.addEventListener("click",t=>{const n=t.target.closest("[data-popup-open]");if(n){t.preventDefault();const o=n.getAttribute("data-popup-open"),c=document.getElementById(o);i(c);return}const r=t.target.closest("[data-popup-close]");if(r){t.preventDefault();const o=r.closest(".popup");e(o);return}}),document.body.addEventListener("click",t=>{const n=document.querySelector(".popup.open");n&&!t.target.closest(".popup__content")&&t.target.closest(".popup")&&e(n)}),document.addEventListener("keydown",t=>{if(t.code==="Escape"){const n=document.querySelector(".popup.open");n&&e(n)}});function i(t){if(t&&p){const n=document.querySelector(".popup.open");n?e(n,!1):k(),t.classList.add("open")}}function e(t,n=!0){t&&p&&(t.classList.remove("open"),n&&M())}}const y=i=>{const e=document.getElementById(i);if(!e)return;const t={text:{validator:s=>/^[A-Za-zА-Яа-яЁё\s-]{3,15}$/.test(s),errorMessage:"Ім’я повинно містити 3–15 букв (латиниця або кирилиця), пробіли або дефіси."},email:{validator:s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),errorMessage:"Email має бути у форматі username@example.com"},textarea:{validator:s=>s.trim().length>=10,errorMessage:"Повідомлення повинно містити щонайменше 10 символів."}},n=Array.from(e.querySelectorAll("input, textarea")),r=(s,a)=>{s.classList.remove("valid"),s.classList.add("invalid");const l=s.getAttribute("aria-describedby");if(!l)return;const d=document.getElementById(l);d&&(d.textContent=a)},o=s=>{s.classList.remove("invalid"),s.classList.add("valid");const a=s.getAttribute("aria-describedby");if(!a)return;const l=document.getElementById(a);l&&(l.textContent="")},c=()=>{e.querySelectorAll(".error").forEach(s=>s.textContent=""),e.querySelectorAll(".invalid, .valid").forEach(s=>s.classList.remove("invalid","valid"))};n.forEach(s=>{const a=s.tagName.toLowerCase()==="textarea"?"textarea":s.type,l=t[a];l&&s.addEventListener("input",()=>{l.validator(s.value.trim())?o(s):r(s,l.errorMessage)})}),e.addEventListener("submit",s=>{s.preventDefault(),c();let a=!0;if(n.forEach(l=>{const d=l.tagName.toLowerCase()==="textarea"?"textarea":l.type,u=t[d];u&&(u.validator(l.value.trim())||(r(l,u.errorMessage),a=!1))}),a){const l=new URLSearchParams;n.forEach(u=>{!u.disabled&&u.type!=="hidden"&&u.name&&l.append(u.name,u.value.trim())}),e.reset();const d=e.action&&e.action.trim()&&e.action!=="#"?e.action:window.location.href.split("?")[0];window.location.href=`${d}?${l.toString()}`}})};window.addEventListener("DOMContentLoaded",()=>{b(),new w,y("form"),y("form-popup"),A()});
