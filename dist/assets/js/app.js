var E=Object.defineProperty;var L=(i,e,t)=>e in i?E(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var m=(i,e,t)=>L(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function b({parent:i=document.body,offset:e=300,maxWidth:t=1600,scrollUpClass:o="scroll-up",scrollUpPathClass:r="scroll-up__path"}={}){if(!i||!(i instanceof Element))return;const s=document.createElement("button");s.classList.add(o),s.setAttribute("aria-label","scroll to top"),s.setAttribute("title","scroll to top"),s.innerHTML=`
    <svg class="${o}__svg" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 52 52">
      <path class="${r}" d="M 24,0 a24,24 0 0,1 0,48 a24,24 0 0,1 0,-48" />
    </svg>
  `,i.appendChild(s);const c=s.querySelector(`.${r}`),n=c.getTotalLength();c.style.strokeDasharray=`${n} ${n}`,c.style.transition="stroke-dashoffset 0.3s ease";const a=()=>window.scrollY||document.documentElement.scrollTop,l=()=>{const v=document.documentElement.scrollHeight-window.innerHeight,g=n-a()*n/v;c.style.strokeDashoffset=g},d=()=>{const v=a(),g=window.innerWidth;l(),v>e&&g<=t?s.classList.add(`${o}--active`):s.classList.remove(`${o}--active`)},u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",d),window.addEventListener("resize",d),s.addEventListener("click",u),d(),{destroy(){window.removeEventListener("scroll",d),window.removeEventListener("resize",d),s.removeEventListener("click",u),s.remove()}}}function w(){window.addEventListener("scroll",function(){scrollY>0?document.querySelector(".header").classList.add("scroll"):document.querySelector(".header").classList.remove("scroll")})}class k{constructor(){m(this,"selectors",{root:"[data-js-header]",menu:"[data-js-header-menu]",burgerButton:"[data-js-header-burger-button]",overlay:".header__overlay"});m(this,"stateClasses",{isActive:"is-active",isLock:"lock"});m(this,"toggleMenu",()=>{this.menuElement.classList.contains(this.stateClasses.isActive)?this.closeMenu():this.openMenu()});m(this,"onEscapePress",e=>{e.key==="Escape"&&this.closeMenu()});m(this,"onOverlayClick",e=>{e.target===this.overlayElement&&this.closeMenu()});m(this,"onMenuClick",e=>{const t=e.target;(t.closest("a.menu__link")||t.closest("button"))&&this.closeMenu()});this.rootElement=document.querySelector(this.selectors.root),this.rootElement&&(this.menuElement=this.rootElement.querySelector(this.selectors.menu),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.bindEvents())}openMenu(){this.burgerButtonElement.classList.add(this.stateClasses.isActive),this.menuElement.classList.add(this.stateClasses.isActive),document.body.classList.add(this.stateClasses.isLock)}closeMenu(){this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.menuElement.classList.remove(this.stateClasses.isActive),document.body.classList.remove(this.stateClasses.isLock)}bindEvents(){!this.burgerButtonElement||!this.menuElement||(this.burgerButtonElement.addEventListener("click",this.toggleMenu),this.menuElement.addEventListener("click",this.onMenuClick),this.overlayElement&&this.overlayElement.addEventListener("click",this.onOverlayClick),document.addEventListener("keydown",this.onEscapePress))}destroy(){!this.burgerButtonElement||!this.menuElement||(this.burgerButtonElement.removeEventListener("click",this.toggleMenu),this.menuElement.removeEventListener("click",this.onMenuClick),this.overlayElement&&this.overlayElement.removeEventListener("click",this.onOverlayClick),document.removeEventListener("keydown",this.onEscapePress))}}function S(){const i=document.querySelectorAll("[data-goto]");i.length>0&&i.forEach(e=>{e.addEventListener("click",t=>{const o=t.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){t.preventDefault();const s=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:s,behavior:"smooth"})}})})}let h=!0;const p=document.querySelectorAll(".lock-padding"),f=document.querySelector("body");function M(i=500){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(p.length>0)for(let t=0;t<p.length;t++){const o=p[t];o.style.paddingRight=e}f.style.paddingRight=e,f.classList.add("lock"),h=!1,setTimeout(function(){h=!0},i)}function q(i=500){setTimeout(function(){if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e];t.style.paddingRight="0px"}f.style.paddingRight="0px",f.classList.remove("lock")},i),h=!1,setTimeout(function(){h=!0},h)}function A(){document.body.addEventListener("click",t=>{const o=t.target.closest("[data-popup-open]");if(o){t.preventDefault();const s=o.getAttribute("data-popup-open"),c=document.getElementById(s);i(c);return}const r=t.target.closest("[data-popup-close]");if(r){t.preventDefault();const s=r.closest(".popup");e(s);return}}),document.body.addEventListener("click",t=>{const o=document.querySelector(".popup.open");o&&!t.target.closest(".popup__content")&&t.target.closest(".popup")&&e(o)}),document.addEventListener("keydown",t=>{if(t.code==="Escape"){const o=document.querySelector(".popup.open");o&&e(o)}});function i(t){if(t&&h){const o=document.querySelector(".popup.open");o?e(o,!1):M(),t.classList.add("open")}}function e(t,o=!0){t&&h&&(t.classList.remove("open"),o&&q())}}const y=i=>{const e=document.getElementById(i);if(!e)return;const t={text:{validator:n=>/^[A-Za-zА-Яа-яЁё\s-]{3,15}$/.test(n),errorMessage:"Ім’я повинно містити 3–15 букв (латиниця або кирилиця), пробіли або дефіси."},email:{validator:n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),errorMessage:"Email має бути у форматі username@example.com"},textarea:{validator:n=>n.trim().length>=10,errorMessage:"Повідомлення повинно містити щонайменше 10 символів."}},o=Array.from(e.querySelectorAll("input, textarea")),r=(n,a)=>{n.classList.remove("valid"),n.classList.add("invalid");const l=n.getAttribute("aria-describedby");if(!l)return;const d=document.getElementById(l);d&&(d.textContent=a)},s=n=>{n.classList.remove("invalid"),n.classList.add("valid");const a=n.getAttribute("aria-describedby");if(!a)return;const l=document.getElementById(a);l&&(l.textContent="")},c=()=>{e.querySelectorAll(".error").forEach(n=>n.textContent=""),e.querySelectorAll(".invalid, .valid").forEach(n=>n.classList.remove("invalid","valid"))};o.forEach(n=>{const a=n.tagName.toLowerCase()==="textarea"?"textarea":n.type,l=t[a];l&&n.addEventListener("input",()=>{l.validator(n.value.trim())?s(n):r(n,l.errorMessage)})}),e.addEventListener("submit",n=>{n.preventDefault(),c();let a=!0;if(o.forEach(l=>{const d=l.tagName.toLowerCase()==="textarea"?"textarea":l.type,u=t[d];u&&(u.validator(l.value.trim())||(r(l,u.errorMessage),a=!1))}),a){const l=new URLSearchParams;o.forEach(u=>{!u.disabled&&u.type!=="hidden"&&u.name&&l.append(u.name,u.value.trim())}),e.reset();const d=e.action&&e.action.trim()&&e.action!=="#"?e.action:window.location.href.split("?")[0];window.location.href=`${d}?${l.toString()}`}})};window.addEventListener("DOMContentLoaded",()=>{b(),new k,w(),S(),y("form"),y("form-popup"),A()});
